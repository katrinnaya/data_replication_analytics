# Проект Data Replication and Analytics с использованием Docker и Airflow

Этот проект демонстрирует процесс генерации данных, их репликации из одной базы данных в другую, а также построение аналитических витрин с использованием Apache Airflow и Docker.

## Структура проекта
data_replication_analytics/
│
├── Dockerfile
├── docker-compose.yml
├── generate_data.py
├── dags/
│   └── replication_dag.py
│   └── analytics_dag.py
├── README.md
└── requirements.txt

### Описание файлов и папок

- **Dockerfile**: Файл конфигурации для сборки образа Docker.
- **docker-compose.yml**: Конфигурационный файл для управления контейнерами Docker.
- **generate_data.py**: Скрипт для генерации тестовых данных.
- **dags/**: Папка, содержащая DAG-файлы для Airflow.
  - **replication_dag.py**: DAG для репликации данных из PostgreSQL в MySQL.
  - **analytics_dag.py**: DAG для построения аналитических витрин.
- **README.md**: Файл с описанием проекта и инструкциями по его использованию.
- **requirements.txt**: Список зависимостей Python, необходимых для проекта.

## Инструкции по запуску проекта
1. **Клонируйте репозиторий:**

   ```bash
   git clone https://github.com/<your_username>/<repository_name>.git
   cd <repository_name>
2. **Запустите Docker Compose:**
docker-compose up -d
3. Проверьте доступность сервисов:
Откройте веб-браузер и перейдите по адресу http://localhost:8080 для доступа к веб-интерфейсу Airflow.
4. Активируйте и запустите DAG:В веб-интерфейсе Airflow активируйте DAG-файлы replication_dag и analytics_dag. Они начнут выполнение задач по репликации данных и построению аналитических витрин.
5. Просмотрите результаты:После успешного выполнения DAG проверьте наличие реплицированных данных в MySQL и аналитических витрин.




# Аналитические витрины

## Витрина активности пользователей

| Поле         | Описание                                 |
|--------------|------------------------------------------|
| user_id      | Уникальный идентификатор пользователя     |
| first_name   | Имя пользователя                          |
| last_name    | Фамилия пользователя                      |
| number_of_orders | Общее количество заказов пользователя |
| total_spent  | Общая сумма потраченная пользователем     |
| last_order_date | Дата последнего заказа                 |

Эта витрина предназначена для анализа активности пользователей, включая их общие расходы и частоту покупок.

## Витрина продаж

| Поле          | Описание                             |
|---------------|--------------------------------------|
| product_id    | Уникальный идентификатор продукта     |
| name          | Название продукта                     |
| total_sold    | Общее количество проданных единиц     |
| revenue       | Доход от продажи данного продукта     |

Эта витрина предназначена для анализа продаж продуктов, включая общий объем продаж и доход.
